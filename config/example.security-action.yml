# Security Action 설정 예제
# 이 파일을 .security-action.yml 로 복사하여 사용하세요

version: "1.0"

# Gitleaks (비밀값 스캐닝) 설정
gitleaks:
  enabled: true
  config_path: null  # 커스텀 gitleaks.toml 경로
  baseline_path: null  # 베이스라인 파일 (이전 결과 비교용)

# Semgrep (코드 스캐닝) 설정
semgrep:
  enabled: true

# Trivy (의존성 스캐닝) 설정
trivy:
  enabled: true

# SonarQube (코드 품질 및 보안 분석) 설정
sonarqube:
  enabled: false
  host_url: http://localhost:9000  # SonarQube 서버 URL
  project_key: null  # 프로젝트 키 (미설정 시 자동 생성)

# AI 리뷰 설정
ai_review:
  enabled: false
  provider: openai  # openai 또는 anthropic
  model: gpt-4o

# 리포팅 설정
reporting:
  sarif_output: security-results.sarif
  json_output: null  # security-results.json
  fail_on_severity: high  # critical, high, medium, low
  fail_on_findings: true

# 오탐(False Positive) 규칙
false_positives:
  # 예제: 테스트 파일의 가짜 비밀값 무시
  - id: ignore-test-secrets
    pattern: "**/test*/**"
    rule_id: ".*secret.*"
    reason: "Test files contain fake secrets for testing"
    expires: null  # 만료일 (YYYY-MM-DD)

  # 예제: 특정 스캐너의 특정 규칙 무시
  - id: ignore-semgrep-generic-secret
    scanner: Semgrep
    rule_id: "generic.secrets.*"
    reason: "Too many false positives"

  # 예제: 특정 파일 무시
  - id: ignore-example-config
    pattern: "**/example-config.*"
    reason: "Example configuration files"

# 전역 제외 패턴
global_excludes:
  - "**/node_modules/**"
  - "**/vendor/**"
  - "**/.git/**"
  - "**/dist/**"
  - "**/build/**"
  - "**/__pycache__/**"
  - "**/*.min.js"
  - "**/*.min.css"
  - "**/test/fixtures/**"
  - "**/testdata/**"
